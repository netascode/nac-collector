# Extra manually-defined endpoints and overrides
# for endpoints generated from provider definitions.
#
# To apply modifications in this file,
# regenerate the endpoints YAML with "uv run ./scripts/update_endpoints.py".

extra_endpoints:
- name: appliance_sdwan_internet_policies
  # Skipped due to "no_read" in the provider definition -
  # an organization-level GET endpoint (early access) should be used,
  # while the (PUT) endpoint in the provider definition is network-level.
  endpoint: /appliance/sdwan/internetPolicies
  parent_endpoint:
  - /organizations
  split_by_network: true
- name: organization_inventory_devices
  # Skipped due to "no_resource" in the provider definition.
  endpoint: /inventory/devices
  parent_endpoint:
  - /organizations

# Endpoint overrides format:
# A flat list of endpoints (no tree with "children").
#   "name" refers to an endpoint anywhere in the main endpoint tree.
#   "parent_endpoint" (a path: list of URLs of parent endpoints, e.g. ["/organizations", "/networks"])
#     moves the endpoint to a different parent.
#   Any other keys replace the corresponding keys in the endpoint.
overrides:
# Meraki API has 2 special-case roots: /networks and /devices.
# They are listed via /organizations/%v/{networks,devices},
# but the individual resources and their children are fetched
# using URIs rooted at them (e.g. /networks/%v, /networks/%v/switch/stacks).
# "root: true" tells the client to use /organizations/%v/networks to list networks,
# but use /networks/%v/child to fetch its children.
- name: network
  parent_endpoint:
  - /organizations
  root: true
- name: device
  parent_endpoint:
  - /organizations
  root: true
- name: appliance_traffic_shaping_vpn_exclusions
  # organization-level GET with /byNetwork suffix,
  # while the (PUT) endpoint in the provider definition is network-level.
  endpoint: /appliance/trafficShaping/vpnExclusions/byNetwork
  parent_endpoint:
  - /organizations
  split_by_network: true
# Note: for switches, the error message says "This endpoint only supports MS devices",
# but no error is returned for MS and C devices, not just MS devices.
- name: switch_port
  allowed_device_types: [switch]
- name: switch_warm_spare
  allowed_device_types: [switch]
- name: switch_routing_interface
  allowed_device_types: [switch]
- name: switch_routing_static_route
  allowed_device_types: [switch]
- name: wireless_device_bluetooth_settings
  allowed_device_models: [MR]
- name: appliance_radio_settings
  allowed_device_models: [MX]
- name: cellular_gateway_port_forwarding_rules
  allowed_device_models: [MG]
- name: cellular_gateway_lan
  allowed_device_models: [MG]
- name: camera_video_settings
  allowed_device_models: [MV]
- name: camera_custom_analytics
  allowed_device_models: [MV]
- name: camera_quality_retention
  allowed_device_models: [MV]
- name: camera_device_wireless_profiles
  allowed_device_models: [MV]
- name: camera_sense
  allowed_device_models: [MV]
